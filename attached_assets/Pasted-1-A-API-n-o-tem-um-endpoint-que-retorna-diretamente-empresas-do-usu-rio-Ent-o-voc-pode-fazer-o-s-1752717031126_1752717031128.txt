1. A API nÃ£o tem um endpoint que retorna diretamente "empresas do usuÃ¡rio"
EntÃ£o vocÃª pode fazer o seguinte workaround:

ğŸ”„ OpÃ§Ã£o 1: Modo automÃ¡tico â€” com base nas tarefas
Se vocÃª jÃ¡ estiver buscando as tarefas com:

http
Copiar
Editar
GET /api/v2/tasks
Authorization: Bearer <token>
O retorno da tarefa inclui (conforme seu dump):

json
Copiar
Editar
{
  "company": {
    "id": 123,
    "name": "Empresa CVC Matriz"
  }
}
âœ¨ O que fazer:
ApÃ³s o GET /tasks, extraia todas as empresas distintas dos campos .company.id e .company.name.

Monte o filtro <select> de empresas baseado nisso.

Quando o usuÃ¡rio escolher uma, vocÃª filtra as tarefas localmente (front-end) por company.id.

Isso Ã© o mesmo que o Monde faz na prÃ¡tica: ele sÃ³ exibe as empresas onde o usuÃ¡rio tem tarefas.

ğŸ” OpÃ§Ã£o 2: Modo manual (melhor experiÃªncia)
Quando o usuÃ¡rio fizer login no seu sistema com o Monde, ele poderÃ¡ autenticar mais de uma vez, informando os dados de cada empresa que ele tem acesso.

âœï¸ Como implementar:
Crie uma tabela local de empresas associadas ao usuÃ¡rio logado (armazenadas no IndexedDB ou localStorage):

json
Copiar
Editar
[
  {
    "empresa_nome": "CVC Matriz",
    "url": "https://matriz.monde.com.br",
    "token": "JWT1",
    "id_empresa": 1
  },
  {
    "empresa_nome": "CVC Filial",
    "url": "https://filial.monde.com.br",
    "token": "JWT2",
    "id_empresa": 2
  }
]
No select de empresas, vocÃª exibe o nome de cada empresa.

Ao trocar de empresa no filtro, vocÃª muda:

o token

a baseURL da API

refaz os GET /tasks com o token dessa empresa

Isso mantÃ©m a consistÃªncia com o que o Monde realmente exige.

âš ï¸ ConsideraÃ§Ãµes importantes:
Isso sÃ³ funciona porque o JWT gerado Ã© por empresa.

Cada empresa tem um servidor diferente. Portanto, ao alternar entre empresas, vocÃª estÃ¡ mudando de servidor e token (simulando o comportamento real do Monde).

Se quiser manter isso fluido, sugiro que o sistema permita o usuÃ¡rio adicionar vÃ¡rias conexÃµes Monde e mantenha todas salvas com nome + token + URL.

âœ… Se a API te der tarefas apenas da empresa atual
VocÃª nÃ£o precisa de endpoint exclusivo de empresas. Basta pegar a lista de tarefas e extrair as empresas presentes ali.

