‚ùå 1. EMPRESA N√ÉO EXIBIDA
üß† Causa prov√°vel:
A empresa associada ao cliente (pessoa) n√£o est√° sendo corretamente buscada ou vinculada ao objeto da tarefa no momento da renderiza√ß√£o do modal.

üìçAn√°lise t√©cnica:
Na fun√ß√£o handleOpenTask, voc√™ faz a chamada:

ts
Copiar
Editar
const foundPessoa = pessoas.find(p => p.id === task.relationships?.pessoa?.data?.id);
Mas n√£o h√° chamada subsequente para buscar a empresa relacionada a essa pessoa (cliente). Ou seja, mesmo que a pessoa tenha uma empresa associada no backend, essa empresa n√£o est√° sendo carregada nem exibida no modal.

‚úÖ Corre√ß√£o sugerida:
Ap√≥s encontrar a pessoa, adicione algo como:

ts
Copiar
Editar
const empresaDaPessoa = foundPessoa?.relationships?.empresa?.data?.id
  ? empresas.find(e => e.id === foundPessoa.relationships.empresa.data.id)
  : null;
E ent√£o inclua no seu modal:

tsx
Copiar
Editar
{empresaDaPessoa ? (
  <p><strong>Empresa:</strong> {empresaDaPessoa.attributes.nome}</p>
) : (
  <p><strong>Empresa:</strong> Sem empresa</p>
)}
‚ö†Ô∏è Certifique-se de que a lista empresas esteja previamente carregada, assim como pessoas.

‚ùå 2. HIST√ìRICO N√ÉO REFLETE ATUALIZA√á√ïES RECENTES
üß† Causa prov√°vel:
O hist√≥rico est√° sendo carregado uma √∫nica vez ao abrir a tarefa, e n√£o est√° sendo recarregado ap√≥s salvar uma atualiza√ß√£o. Al√©m disso, pode estar mostrando hist√≥ricos de outras tarefas se o filtro por ID n√£o estiver implementado corretamente.

üìçAn√°lise t√©cnica:
Voc√™ chama:

ts
Copiar
Editar
const loadHistorico = async (taskId: string) => {
  // ...
  const response = await api.get(`/task-historico?filter[tarefa_id]=${taskId}`);
  setHistorico(response.data);
};
Mas essa fun√ß√£o precisa ser chamada novamente ap√≥s o handleSave (salvar a tarefa), sen√£o o hist√≥rico exibido continuar√° o mesmo.

‚úÖ Corre√ß√£o sugerida:
Dentro da fun√ß√£o handleSave ou handleUpdateTask, ap√≥s o .then(...) da atualiza√ß√£o da tarefa, adicione:

ts
Copiar
Editar
await loadHistorico(task.id);
‚ö†Ô∏è Al√©m disso, verifique se o hist√≥rico est√° realmente sendo salvo com o ID da tarefa atual. No backend, o campo tarefa_id precisa estar sendo corretamente vinculado na hora de salvar o hist√≥rico.

‚úÖ Resumo final das corre√ß√µes:
Problema	Causa	Solu√ß√£o
Empresa n√£o aparece	Empresa n√£o est√° sendo buscada nem renderizada	Buscar empresa via foundPessoa.relationships.empresa e renderizar
Hist√≥rico n√£o atualiza	Hist√≥rico n√£o √© recarregado ap√≥s Salvar	Chamar loadHistorico(task.id) ap√≥s salvar
