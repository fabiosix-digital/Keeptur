âŒ ERRO 1 â€“ PUT tarefa retornando 400 (Bad Request)
ğŸ” Mensagem de erro:
bash
Copiar
Editar
PUT /api/monde/tarefas/{id} â†’ 400 Bad Request
ğŸ“Œ Causa:
A requisiÃ§Ã£o estÃ¡ enviando dados incompletos ou malformados.

ğŸ› ï¸ VerificaÃ§Ãµes e CorreÃ§Ãµes:
status estÃ¡ undefined:

js
Copiar
Editar
status: undefined,
Esse campo Ã© obrigatÃ³rio e precisa estar definido. Corrija o mapeamento para garantir que o campo status_id esteja sendo passado corretamente no body.

completed estÃ¡ como false mas sem status correspondente:
Se a tarefa nÃ£o estiver concluÃ­da, certifique-se de que estÃ¡ passando o status_id correto que represente â€œpendenteâ€, â€œem andamentoâ€ ou outro estado vÃ¡lido.

PossÃ­vel payload invÃ¡lido (corrigido):

ts
Copiar
Editar
const payload = {
  title: tarefa.title,
  description: tarefa.description,
  due: tarefa.due,
  status: tarefa.status, // Certifique-se que isso seja o ID correto do status
  person_id: tarefa.person?.id,
  company_id: tarefa.company?.id,
  responsible_user_id: tarefa.responsible_user?.id,
  priority_id: tarefa.priority?.id,
  category_id: tarefa.category?.id,
  situation_id: tarefa.situation?.id,
  completed: tarefa.completed ?? false
}
Dica Ãºtil:
FaÃ§a um console.log(payload) antes do fetch para garantir que tudo estÃ¡ preenchido corretamente.

âŒ ERRO 2 â€“ POST histÃ³rico 404 (Not Found)
ğŸ” Mensagem de erro:
bash
Copiar
Editar
POST /api/monde/tarefas/{id}/historico â†’ 404 Not Found
ğŸ“Œ Causa:
O endpoint estÃ¡ errado. Ele nÃ£o existe nesse formato.

ğŸ› ï¸ CorreÃ§Ã£o:
O endpoint correto para criar histÃ³rico de tarefa Ã©:

bash
Copiar
Editar
POST /api/v2/task_historics
ğŸ§¾ Payload correto esperado pela API:
json
Copiar
Editar
{
  "task_id": "e77068cc-3a6a-4bb8-aa1a-370a77869bd3",
  "description": "Texto do histÃ³rico atualizado"
}
âœ… Exemplo no cÃ³digo:
ts
Copiar
Editar
await fetch('/api/v2/task_historics', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    Authorization: `Bearer ${token}`
  },
  body: JSON.stringify({
    task_id: tarefa.id,
    description: tarefa.historico
  })
});
âœ… Checklist Final de CorreÃ§Ã£o
Item	Status Esperado
status_id	ObrigatÃ³rio e vÃ¡lido
completed	true/false
company_id	ID da empresa (nÃ£o null)
person_id, responsible_user_id	IDs vÃ¡lidos
Endpoint do histÃ³rico correto	/api/v2/task_historics

