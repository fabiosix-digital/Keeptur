üß† CONTEXTO GERAL
Todos os dados (tarefas, usu√°rios, empresas) v√™m diretamente da API do Monde.

O sistema deve respeitar os perfis e permiss√µes do usu√°rio logado.

O usu√°rio pode estar associado a uma ou mais empresas, e s√≥ deve ver dados dessas empresas.

Todo filtro precisa funcionar com base nos dados recebidos da API, sem acessar o banco local.

1Ô∏è‚É£ FILTRO "EMPRESA"
üìå OBJETIVO:
Exibir no filtro de "Empresa" (dropdown) apenas as empresas associadas ao usu√°rio logado.

‚úÖ A√á√ÉO:
Chamar o endpoint:

http
Copiar
Editar
GET /api/v2/users/me
üîÑ RESPOSTA ESPERADA:
json
Copiar
Editar
{
  "user": {
    "id": 1,
    "name": "Jo√£o",
    "companies": [
      { "id": 10, "name": "CVC Matriz" },
      { "id": 11, "name": "CVC Filial" }
    ]
  }
}
‚úÖ COMO MONTAR O DROPDOWN:
Iterar sobre user.companies[]

Para cada item, montar uma <option> com:

value = company.id

label = company.name

Adicionar tamb√©m uma op√ß√£o [ Todas ] com value="" (sem filtro).

2Ô∏è‚É£ FILTRO "AGENTE" (USU√ÅRIO)
üìå OBJETIVO:
Exibir apenas os usu√°rios (agentes) da(s) empresa(s) associada(s) ao usu√°rio logado.

‚úÖ A√á√ÉO:
Para cada empresa associada, chamar:

http
Copiar
Editar
GET /api/v2/users?companies[]=10&companies[]=11
(substituir os IDs pelas empresas do usu√°rio logado)

üîÑ RESPOSTA ESPERADA:
json
Copiar
Editar
[
  { "id": 201, "name": "Allana Caires" },
  { "id": 202, "name": "Giovanna Guindo" },
  { "id": 203, "name": "Bruno Zanetti" }
]
‚úÖ COMO MONTAR O DROPDOWN:
Iterar sobre o array de usu√°rios retornado.

Exibir user.name como label.

Usar user.id como value.

3Ô∏è‚É£ FILTRO "MINHAS TAREFAS"
üìå OBJETIVO:
Listar somente tarefas onde o usu√°rio atual √© o respons√°vel.

‚úÖ A√á√ÉO:
Quando o usu√°rio marcar a op√ß√£o "Minhas Tarefas", adicionar o par√¢metro:

h
Copiar
Editar
GET /api/v2/tasks?me=true
4Ô∏è‚É£ COMPORTAMENTO DOS FILTROS COMBINADOS
üîó Filtros combin√°veis:
Quando o usu√°rio selecionar uma empresa no filtro, o sistema deve:

Refiltrar os agentes com ?companies[]=ID_SELECIONADO

Refiltrar as tarefas com ?companies[]=ID_SELECIONADO

Se o usu√°rio tamb√©m marcar ‚ÄúMinhas Tarefas‚Äù, adicionar me=true no mesmo request:

http
Copiar
Editar
GET /api/v2/tasks?companies[]=10&me=true
Para buscar tarefas por agente:

http
Copiar
Editar
GET /api/v2/tasks?companies[]=10&responsible_user_id=201
5Ô∏è‚É£ PADR√ÉO VISUAL DOS DROPDOWNS (FRONTEND)
EMPRESAS:
html
Copiar
Editar
<select id="filtro-empresa">
  <option value="">[ Todas ]</option>
  <option value="10">CVC Matriz</option>
  <option value="11">CVC Filial</option>
</select>
AGENTES:
html
Copiar
Editar
<select id="filtro-agente">
  <option value="">[ Todos ]</option>
  <option value="201">Allana Caires</option>
  <option value="202">Giovanna Guindo</option>
</select>
6Ô∏è‚É£ FLUXO DE IMPLEMENTA√á√ÉO
Ao logar, chame /users/me e salve:

user_id

companies[]

Com os companies[], chame /users?companies[]=... para popular o filtro de agentes.

Ao alterar qualquer filtro, envie a chamada para /tasks com os par√¢metros adequados combinados:

http
Copiar
Editar
GET /api/v2/tasks?companies[]=10&responsible_user_id=201&me=true&status=pending