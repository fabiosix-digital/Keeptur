âœ… 1. Campo status estÃ¡ como undefined
ğŸ”§ SoluÃ§Ã£o:
No momento de salvar a tarefa (onSubmit), o campo status precisa estar com o ID vÃ¡lido de um status cadastrado. Corrija o trecho onde mapeia a tarefa antes de fazer o PUT.

ts
Copiar
Editar
const payload = {
  status: tarefa.status?.id || 'status_padrao_id', // insira o ID padrÃ£o aqui
  ...
}
âœ… 2. Empresa nÃ£o aparece / mostra "Sem empresa"
ğŸ”§ SoluÃ§Ã£o:
VocÃª precisa garantir que a tarefa tenha um company_id vÃ¡lido. Certifique-se de que o carregamento da empresa esteja correto:

ts
Copiar
Editar
const empresaSelecionada = empresas.find(e => e.id === tarefa.company_id);
No payload:

ts
Copiar
Editar
company_id: tarefa.company?.id || usuario.company_id
âœ… 3. Pessoa (cliente) nÃ£o aparece
ğŸ”§ SoluÃ§Ã£o:
Verifique se estÃ¡ mapeando o campo person_id no payload da tarefa:

ts
Copiar
Editar
person_id: tarefa.person?.id
E certifique-se de que estÃ¡ buscando corretamente as pessoas:

ts
Copiar
Editar
await fetch('/api/v2/people?include=phones')
âœ… 4. Telefone e celular nÃ£o aparecem
ğŸ”§ SoluÃ§Ã£o:
O endpoint de /people precisa vir com include=phones. Exemplo:

ts
Copiar
Editar
const pessoa = tarefa.person;
const telefones = pessoa?.phones?.map(p => p.number).join(' / ');
âœ… 5. Categorias nÃ£o aparecem ou lista incompleta
ğŸ”§ SoluÃ§Ã£o:
O endpoint correto para categorias Ã©:

ts
Copiar
Editar
GET /api/v2/task_categories
Com filtro:

ts
Copiar
Editar
GET /api/v2/task_categories?filter[company_id]=ID_DA_EMPRESA
Verifique se estÃ¡ salvando o category_id corretamente no payload.

âœ… 6. BotÃ£o â€œConcluirâ€ duplicado e fora do lugar
ğŸ”§ SoluÃ§Ã£o:
No modal de ediÃ§Ã£o da tarefa (ModalTask ou equivalente), verifique se vocÃª nÃ£o estÃ¡ renderizando o botÃ£o duas vezes por erro de condiÃ§Ã£o ou falta de key.

Corrija o estilo:

jsx
Copiar
Editar
<Button className="bg-blue-500 absolute left-4 bottom-4">Concluir</Button>
<Button className="bg-green-500 absolute right-4 bottom-4">Salvar</Button>
âœ… 7. HistÃ³rico da tarefa nÃ£o salva nem aparece
âŒ Erro atual:

bash
Copiar
Editar
POST /api/monde/tarefas/:id/historico â†’ 404 Not Found
âœ… SoluÃ§Ã£o correta:
Use o endpoint:

ts
Copiar
Editar
POST /api/v2/task_historics
Payload:

ts
Copiar
Editar
{
  "task_id": tarefa.id,
  "description": tarefa.historico
}
âœ… 8. Salvamento da tarefa nÃ£o fecha a modal
ğŸ”§ SoluÃ§Ã£o:
ApÃ³s o PUT, verifique se estÃ¡ fazendo:

ts
Copiar
Editar
setModalAberta(false);
E limpar os estados:

ts
Copiar
Editar
setTarefaSelecionada(null);
setHistorico('');
âœ… 9. Modal nÃ£o se adapta corretamente Ã  tela
ğŸ”§ SoluÃ§Ã£o:
Garanta que o Modal esteja usando max-height: 90vh e overflow-y: auto em apenas no conteÃºdo interno da seÃ§Ã£o de histÃ³rico:

css
Copiar
Editar
.modal-container {
  max-height: 90vh;
  overflow-y: auto;
}
.historico-scroll {
  max-height: 200px;
  overflow-y: scroll;
}
âœ… 10. Todos os histÃ³ricos estÃ£o iguais
ğŸ”§ SoluÃ§Ã£o:
Na hora de buscar histÃ³rico da tarefa, use o ID correto:

ts
Copiar
Editar
await fetch(`/api/v2/task_historics?filter[task_id]=${tarefa.id}`)
Evite reaproveitar a mesma lista de histÃ³ricos entre tarefas.